System.register(["./vue-vendor-legacy-CbULZcsl.js","./user-legacy--64CfxH1.js","./request-legacy-DgrEakAZ.js","./ant-design-legacy-BYcnYbwI.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./utils-legacy-DaJqaYpr.js"],function(e,a){"use strict";var l,t,n,o,u,i,s,c,r,d,p,g,v,y,f,h,m,k,x,_,b,w,j,C,U,S,I;return{setters:[e=>{l=e.a6,t=e.f,n=e.c,o=e.d,u=e.w,i=e.S,s=e.W,c=e.U,r=e.V,d=e.k,p=e.a0,g=e._,v=e.a3,y=e.u,f=e.B,h=e.G,m=e.a4,k=e.$,x=e.a7},e=>{_=e.u},null,e=>{b=e.H,w=e.m,j=e.M,C=e.n,U=e.U,S=e.D},e=>{I=e._},null],execute:function(){var K=document.createElement("style");K.textContent=".app-layout[data-v-bac1e587]{height:100vh}.app-layout .logo[data-v-bac1e587]{height:64px;display:flex;align-items:center;justify-content:center;gap:12px;padding:0 16px;background:#001529}.app-layout .logo .logo-img[data-v-bac1e587]{height:32px;width:32px;flex-shrink:0}.app-layout .logo h2[data-v-bac1e587]{color:#fff;margin:0;font-size:18px;white-space:nowrap}.app-layout .header[data-v-bac1e587]{background:#fff;padding:0 24px;display:flex;align-items:center;justify-content:space-between}.app-layout .header .trigger[data-v-bac1e587]{font-size:18px;line-height:64px;cursor:pointer;transition:color .3s}.app-layout .header .trigger[data-v-bac1e587]:hover{color:#1890ff}.app-layout .header .header-right[data-v-bac1e587]{display:flex;align-items:center}.app-layout .content[data-v-bac1e587]{margin:24px;padding:24px;background:#fff;min-height:280px;overflow:auto}\n/*$vite$:1*/",document.head.appendChild(K);const L=""+new URL("img/logo-alKEKSHC.svg",a.meta.url).href,$=l("user",()=>{const e=t(null),a=t(""),l=t(!1),o=n(()=>!!a.value),u=n(()=>"admin"===e.value?.role);return{user:e,token:a,loading:l,isLoggedIn:o,isAdmin:u,login:async function(t){l.value=!0;try{const l=await _.login(t);e.value=l.data,a.value=l.data.token,localStorage.setItem("token",a.value)}finally{l.value=!1}},logout:function(){e.value=null,a.value="",localStorage.removeItem("token")}}}),z={class:"logo"},D={key:0},E={class:"header-right"};e("default",I(o({__name:"DefaultLayout",setup(e){const a=k(),l=x(),n=$(),o=t(!1),_=t(["/home"]),I=t([]);function K(){o.value=!o.value}function H(e){a.push(e)}function q(){n.logout(),a.push("/login")}return u(()=>l.path,e=>{const a=e.split("/").slice(0,2).join("/");_.value=[a]},{immediate:!0}),(e,a)=>{const l=c("a-menu-item"),t=c("a-menu"),u=c("a-layout-sider"),k=c("a-dropdown"),x=c("a-layout-header"),$=c("router-view"),A=c("a-layout-content"),B=c("a-layout");return r(),i(B,{class:"app-layout"},{default:s(()=>[d(u,{collapsed:o.value,"onUpdate:collapsed":a[4]||(a[4]=e=>o.value=e),trigger:null,collapsible:""},{default:s(()=>[p("div",z,[a[6]||(a[6]=p("img",{src:L,alt:"Logo",class:"logo-img"},null,-1)),o.value?v("",!0):(r(),g("h2",D,"物流供应链"))]),d(t,{"selected-keys":_.value,"onUpdate:selectedKeys":a[2]||(a[2]=e=>_.value=e),"open-keys":I.value,"onUpdate:openKeys":a[3]||(a[3]=e=>I.value=e),mode:"inline",theme:"dark","inline-collapsed":o.value},{default:s(()=>[d(l,{key:"/home",onClick:a[0]||(a[0]=e=>H("/home"))},{icon:s(()=>[d(y(b))]),default:s(()=>[a[7]||(a[7]=p("span",null,"首页",-1))]),_:1}),d(l,{key:"/order",onClick:a[1]||(a[1]=e=>H("/order"))},{icon:s(()=>[d(y(w))]),default:s(()=>[a[8]||(a[8]=p("span",null,"订单管理",-1))]),_:1})]),_:1},8,["selected-keys","open-keys","inline-collapsed"])]),_:1},8,["collapsed"]),d(B,null,{default:s(()=>[d(x,{class:"header"},{default:s(()=>[o.value?(r(),i(y(j),{key:0,class:"trigger",onClick:K})):(r(),i(y(C),{key:1,class:"trigger",onClick:K})),p("div",E,[d(k,null,{overlay:s(()=>[d(t,null,{default:s(()=>[d(l,{key:"logout",onClick:q},{default:s(()=>[...a[9]||(a[9]=[h("退出登录",-1)])]),_:1})]),_:1})]),default:s(()=>[p("a",{class:"ant-dropdown-link",onClick:a[5]||(a[5]=f(()=>{},["prevent"]))},[d(y(U),{style:{"margin-right":"8px"}}),h(" "+m(y(n).user?.name||"用户")+" ",1),d(y(S))])]),_:1})])]),_:1}),d(A,{class:"content"},{default:s(()=>[d($)]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-bac1e587"]]))}}});
