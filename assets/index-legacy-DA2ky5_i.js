System.register(["./user-legacy-CGDfQXQS.js","./_plugin-vue_export-helper-legacy-BvE_bc-9.js","./ant-design-legacy-BqdWajZ5.js","./vue-vendor-legacy-BtfJdnqI.js","./utils-legacy-Bg3rIhsW.js"],function(e,a){"use strict";var l,t,n,u,o,i,c,d,r,s,v,m,p,f,y;return{setters:[e=>{l=e.u},e=>{t=e._},e=>{n=e.h},e=>{u=e.d,o=e.f,i=e.r,c=e.o,d=e._,r=e.k,s=e.W,v=e.U,m=e.V,p=e.S,f=e.a2,y=e.G},null],execute:function(){var a=document.createElement("style");a.textContent=".user-page[data-v-934769c5]{max-width:1200px;margin:0 auto}\n/*$vite$:1*/",document.head.appendChild(a);const g={class:"user-page"};e("default",t(u({__name:"index",setup(e){const a=o(!1),t=o([]),u=o(!1),_=o("添加用户"),k=o(null),x=i({name:"",email:"",role:"user"}),C=[{title:"ID",dataIndex:"id",key:"id"},{title:"姓名",dataIndex:"name",key:"name"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"角色",dataIndex:"role",key:"role"},{title:"操作",key:"action"}],b=i({current:1,pageSize:10,total:0});function h(e){b.current=e.current,b.pageSize=e.pageSize,z()}function I(){_.value="添加用户",k.value=null,x.name="",x.email="",x.role="user",u.value=!0}function U(){k.value?n.success("更新用户成功"):n.success("添加用户成功"),u.value=!1,z()}function j(){u.value=!1}async function z(){a.value=!0;try{const e=await l.getUsers();t.value=e.data||[],b.total=t.value.length}catch(e){n.error("获取用户列表失败")}finally{a.value=!1}}return c(()=>{z()}),(e,l)=>{const o=v("a-button"),i=v("a-space"),c=v("a-table"),z=v("a-card"),S=v("a-input"),w=v("a-form-item"),$=v("a-select-option"),D=v("a-select"),E=v("a-form"),G=v("a-modal");return m(),d("div",g,[r(z,{title:"用户管理"},{extra:s(()=>[r(o,{type:"primary",onClick:I},{default:s(()=>[...l[4]||(l[4]=[y("添加用户",-1)])]),_:1})]),default:s(()=>[r(c,{columns:C,"data-source":t.value,loading:a.value,pagination:b,"row-key":"id",onChange:h},{bodyCell:s(({column:e,record:a})=>["action"===e.key?(m(),p(i,{key:0},{default:s(()=>[r(o,{type:"link",size:"small",onClick:e=>function(e){_.value="编辑用户",k.value=e.id,x.name=e.name,x.email=e.email,x.role=e.role,u.value=!0}(a)},{default:s(()=>[...l[5]||(l[5]=[y("编辑",-1)])]),_:1},8,["onClick"]),r(o,{type:"link",size:"small",danger:"",onClick:e=>function(e){n.success(`删除用户: ${e.name}`)}(a)},{default:s(()=>[...l[6]||(l[6]=[y("删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)):f("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1}),r(G,{open:u.value,"onUpdate:open":l[3]||(l[3]=e=>u.value=e),title:_.value,onOk:U,onCancel:j},{default:s(()=>[r(E,{model:x,"label-col":{span:4},"wrapper-col":{span:20}},{default:s(()=>[r(w,{label:"姓名"},{default:s(()=>[r(S,{value:x.name,"onUpdate:value":l[0]||(l[0]=e=>x.name=e)},null,8,["value"])]),_:1}),r(w,{label:"邮箱"},{default:s(()=>[r(S,{value:x.email,"onUpdate:value":l[1]||(l[1]=e=>x.email=e)},null,8,["value"])]),_:1}),r(w,{label:"角色"},{default:s(()=>[r(D,{value:x.role,"onUpdate:value":l[2]||(l[2]=e=>x.role=e)},{default:s(()=>[r($,{value:"admin"},{default:s(()=>[...l[7]||(l[7]=[y("管理员",-1)])]),_:1}),r($,{value:"user"},{default:s(()=>[...l[8]||(l[8]=[y("普通用户",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-934769c5"]]))}}});
