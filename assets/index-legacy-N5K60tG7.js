System.register(["./user-legacy--64CfxH1.js","./request-legacy-DgrEakAZ.js","./ant-design-legacy-BYcnYbwI.js","./vue-vendor-legacy-CbULZcsl.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./utils-legacy-DaJqaYpr.js"],function(e,a){"use strict";var l,t,n,u,o,i,c,d,r,s,v,m,p,f,y;return{setters:[e=>{l=e.u},null,e=>{t=e.k},e=>{n=e.d,u=e.f,o=e.r,i=e.o,c=e._,d=e.k,r=e.W,s=e.U,v=e.V,m=e.S,p=e.a3,f=e.G},e=>{y=e._},null],execute:function(){var a=document.createElement("style");a.textContent=".user-page[data-v-934769c5]{max-width:1200px;margin:0 auto}\n/*$vite$:1*/",document.head.appendChild(a);const g={class:"user-page"};e("default",y(n({__name:"index",setup(e){const a=u(!1),n=u([]),y=u(!1),_=u("添加用户"),k=u(null),x=o({name:"",email:"",role:"user"}),C=[{title:"ID",dataIndex:"id",key:"id"},{title:"姓名",dataIndex:"name",key:"name"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"角色",dataIndex:"role",key:"role"},{title:"操作",key:"action"}],b=o({current:1,pageSize:10,total:0});function h(e){b.current=e.current,b.pageSize=e.pageSize,z()}function j(){_.value="添加用户",k.value=null,x.name="",x.email="",x.role="user",y.value=!0}function I(){k.value?t.success("更新用户成功"):t.success("添加用户成功"),y.value=!1,z()}function U(){y.value=!1}async function z(){a.value=!0;try{const e=await l.getUsers();n.value=e.data||[],b.total=n.value.length}catch(e){t.error("获取用户列表失败")}finally{a.value=!1}}return i(()=>{z()}),(e,l)=>{const u=s("a-button"),o=s("a-space"),i=s("a-table"),z=s("a-card"),S=s("a-input"),w=s("a-form-item"),$=s("a-select-option"),q=s("a-select"),D=s("a-form"),E=s("a-modal");return v(),c("div",g,[d(z,{title:"用户管理"},{extra:r(()=>[d(u,{type:"primary",onClick:j},{default:r(()=>[...l[4]||(l[4]=[f("添加用户",-1)])]),_:1})]),default:r(()=>[d(i,{columns:C,"data-source":n.value,loading:a.value,pagination:b,"row-key":"id",onChange:h},{bodyCell:r(({column:e,record:a})=>["action"===e.key?(v(),m(o,{key:0},{default:r(()=>[d(u,{type:"link",size:"small",onClick:e=>function(e){_.value="编辑用户",k.value=e.id,x.name=e.name,x.email=e.email,x.role=e.role,y.value=!0}(a)},{default:r(()=>[...l[5]||(l[5]=[f("编辑",-1)])]),_:1},8,["onClick"]),d(u,{type:"link",size:"small",danger:"",onClick:e=>function(e){t.success(`删除用户: ${e.name}`)}(a)},{default:r(()=>[...l[6]||(l[6]=[f("删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)):p("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1}),d(E,{open:y.value,"onUpdate:open":l[3]||(l[3]=e=>y.value=e),title:_.value,onOk:I,onCancel:U},{default:r(()=>[d(D,{model:x,"label-col":{span:4},"wrapper-col":{span:20}},{default:r(()=>[d(w,{label:"姓名"},{default:r(()=>[d(S,{value:x.name,"onUpdate:value":l[0]||(l[0]=e=>x.name=e)},null,8,["value"])]),_:1}),d(w,{label:"邮箱"},{default:r(()=>[d(S,{value:x.email,"onUpdate:value":l[1]||(l[1]=e=>x.email=e)},null,8,["value"])]),_:1}),d(w,{label:"角色"},{default:r(()=>[d(q,{value:x.role,"onUpdate:value":l[2]||(l[2]=e=>x.role=e)},{default:r(()=>[d($,{value:"admin"},{default:r(()=>[...l[7]||(l[7]=[f("管理员",-1)])]),_:1}),d($,{value:"user"},{default:r(()=>[...l[8]||(l[8]=[f("普通用户",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-934769c5"]]))}}});
