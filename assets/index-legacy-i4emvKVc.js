System.register(["./_plugin-vue_export-helper-legacy-cD0wAZyR.js","./tracking-legacy-CuYifF8D.js","./vue-vendor-legacy-BtfJdnqI.js","./ant-design-legacy-BqdWajZ5.js","./utils-legacy-Bg3rIhsW.js"],function(e,t){"use strict";var a,n,i,l,r,s,o,c,d,u,p,m,g,v,f,k,_,y,h,x,b,w,j,S,Y,z;return{setters:[e=>{a=e._},e=>{n=e.t},e=>{i=e.d,l=e.f,r=e.c,s=e.a4,o=e.o,c=e._,d=e.k,u=e.W,p=e.U,m=e.V,g=e.a2,v=e.a1,f=e.G,k=e.a3,_=e.F,y=e.a5,h=e.S,x=e.a6},e=>{b=e.h,w=e.I,j=e.o,S=e.p,Y=e.q,z=e.l},null],execute:function(){var t=document.createElement("style");t.textContent=".tracking-page .tracking-content .order-info h3[data-v-e2a7d203],.tracking-page .tracking-content .process-nodes h3[data-v-e2a7d203],.tracking-page .tracking-content .timeline-section h3[data-v-e2a7d203]{margin-bottom:16px;font-size:16px;font-weight:600}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-title[data-v-e2a7d203]{font-size:16px;font-weight:600;margin-bottom:8px}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-description[data-v-e2a7d203]{color:#666;margin-bottom:8px}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-meta[data-v-e2a7d203]{font-size:12px;color:#999}\n/*$vite$:1*/",document.head.appendChild(t);const C={class:"tracking-page"},D={key:0,class:"tracking-content"},I={class:"order-info"},H={class:"process-nodes",style:{"margin-top":"24px"}},M={key:0,class:"timeline-section",style:{"margin-top":"24px"}},P={class:"timeline-item"},T={class:"timeline-title"},$={class:"timeline-description"},q={class:"timeline-meta"},E={style:{"margin-left":"16px"}};e("default",a(i({__name:"index",setup(e){const t=s(),a=l(!1),i=l(null),F=l([]),G=r(()=>t.params.id),N=r(()=>i.value?i.value.nodes.map(e=>{return{title:e.name,description:e.participant,status:(t=e.status,{pending:"wait",in_progress:"process",completed:"finish",error:"error"}[t]||"wait")};var t}):[]);function U(e){return{success:Y,warning:S,error:j,info:w}[e]||w}return o(()=>{!async function(){if(G.value){a.value=!0;try{const[e,t]=await Promise.all([n.getProcessTracking(G.value),n.getTimeline({orderId:G.value})]);200===e.code&&(i.value=e.data),200===t.code&&(F.value=t.data)}catch(e){console.error("获取追踪信息失败",e),b.error("获取追踪信息失败")}finally{a.value=!1}}}()}),(e,t)=>{const n=p("a-descriptions-item"),l=p("a-descriptions"),r=p("a-steps"),s=p("a-timeline-item"),o=p("a-timeline"),b=p("a-spin"),w=p("a-card");return m(),c("div",C,[d(w,{title:"全链路流程追踪",bordered:!1},{default:u(()=>[d(b,{spinning:a.value},{default:u(()=>[i.value?(m(),c("div",D,[v("div",I,[t[0]||(t[0]=v("h3",null,"订单信息",-1)),d(l,{column:4,bordered:""},{default:u(()=>[d(n,{label:"订单编号"},{default:u(()=>[f(k(i.value.orderNo),1)]),_:1}),d(n,{label:"当前步骤"},{default:u(()=>[f(k(i.value.currentStep)+" / "+k(i.value.totalSteps),1)]),_:1}),d(n,{label:"完成进度"},{default:u(()=>[f(k(i.value.progress)+"%",1)]),_:1}),d(n,{label:"预计完成日期"},{default:u(()=>[f(k(i.value.estimatedCompletionDate||"-"),1)]),_:1})]),_:1})]),v("div",H,[t[1]||(t[1]=v("h3",null,"流程节点",-1)),d(r,{current:i.value.currentStep-1,items:N.value},null,8,["current","items"])]),F.value.length>0?(m(),c("div",M,[t[2]||(t[2]=v("h3",null,"操作时间线",-1)),d(o,null,{default:u(()=>[(m(!0),c(_,null,y(F.value,e=>{return m(),h(s,{key:e.id,color:(t=e.status,{success:"green",warning:"orange",error:"red",info:"blue"}[t]||"blue")},{dot:u(()=>[(m(),h(x(U(e.status))))]),default:u(()=>{return[v("div",P,[v("div",T,k(e.title),1),v("div",$,k(e.description),1),v("div",q,[v("span",null,k(e.participant),1),v("span",E,k((t=e.timestamp,z(t).format("YYYY-MM-DD HH:mm:ss"))),1)])])];var t}),_:2},1032,["color"]);var t}),128))]),_:1})])):g("",!0)])):g("",!0)]),_:1},8,["spinning"])]),_:1})])}}}),[["__scopeId","data-v-e2a7d203"]]))}}});
