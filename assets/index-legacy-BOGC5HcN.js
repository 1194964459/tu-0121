System.register(["./vue-vendor-legacy-DqNYJpuF.js","./ant-design-legacy-CY5iG1Ko.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./utils-legacy-Bl39W5M3.js"],function(a,e){"use strict";var n,l,s,d,t,i,v,o,p,c,r,u,f,m,h,g,w,y,b;return{setters:[a=>{n=a.d,l=a.f,s=a.o,d=a.b,t=a._,i=a.a0,v=a.a1,o=a.k,p=a.W,c=a.u,r=a.F,u=a.a2,f=a.a3,m=a.V,h=a.G,g=a.a4,w=a.a5},a=>{y=a.B},a=>{b=a._},null],execute:function(){var e=document.createElement("style");e.textContent='@charset "UTF-8";.map-visualization[data-v-474d6900]{width:100%;height:100vh;position:relative;overflow:hidden}.map-container[data-v-474d6900]{width:100%;height:100%}.layer-control[data-v-474d6900]{position:absolute;top:20px;right:20px;z-index:100}.timeline-container[data-v-474d6900]{position:absolute;bottom:20px;left:0;right:0;display:flex;justify-content:center;z-index:100}.timeline[data-v-474d6900]{display:flex;align-items:center;background:rgba(255,255,255,.9);padding:10px 20px;border-radius:20px;box-shadow:0 2px 8px rgba(0,0,0,.15)}.timeline-node[data-v-474d6900]{display:flex;flex-direction:column;align-items:center;margin:0 30px;cursor:pointer}.timeline-dot[data-v-474d6900]{width:12px;height:12px;border-radius:50%;background-color:#d9d9d9;margin-bottom:5px;transition:all .3s}.timeline-node.active .timeline-dot[data-v-474d6900]{width:16px;height:16px;background-color:#1890ff}.timeline-label[data-v-474d6900]{font-size:12px;color:#666}.timeline-node.active .timeline-label[data-v-474d6900]{color:#1890ff;font-weight:700}.info-panels[data-v-474d6900]{position:absolute;z-index:100;display:flex;gap:20px;top:0;left:0;transform:none;pointer-events:none}.info-panels>div[data-v-474d6900]{pointer-events:auto}.info-panels.wuhan[data-v-474d6900],.info-panels.wuhan-merged[data-v-474d6900],.info-panels.maanshan[data-v-474d6900],.info-panels.maanshan-merged[data-v-474d6900],.info-panels.shanghai[data-v-474d6900]{top:0;left:0;transform:none}.info-panel[data-v-474d6900]{background:rgba(255,255,255,.95);border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.15);width:250px;overflow:hidden}.info-panel.merged[data-v-474d6900]{width:300px}.panel-header[data-v-474d6900]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background-color:#f5f5f5;border-bottom:1px solid #e8e8e8}.panel-header h3[data-v-474d6900]{margin:0;font-size:16px;font-weight:600}.panel-content[data-v-474d6900]{padding:16px}.info-item[data-v-474d6900]{margin-bottom:12px;display:flex;justify-content:space-between}.info-item[data-v-474d6900]:last-child{margin-bottom:0}.info-item .label[data-v-474d6900]{color:#666;font-size:14px}.info-item .value[data-v-474d6900]{color:#333;font-size:14px;font-weight:500}\n/*$vite$:1*/',document.head.appendChild(e);const x={class:"map-visualization"},k={class:"layer-control"},M={class:"timeline-container"},C={class:"timeline"},A=["onClick"],_={class:"timeline-label"},z={key:0},F={key:0,class:"info-panel left"},S={class:"panel-header"},P={key:1,class:"info-panel right"},j={class:"panel-header"},T={key:1,class:"info-panels wuhan-merged"},I={key:0},L={key:0,class:"info-panel left"},B={class:"panel-header"},W={key:1,class:"info-panel right"},$={class:"panel-header"},E={key:1,class:"info-panels maanshan-merged"},J=n({__name:"index",setup(a){const e=l(null),n=l(null),b=l(null),J=l(null);let R=null,G=null,Z=null,H=l("satellite");const O=[{name:"武汉港",lng:114.30546,lat:30.593099},{name:"马鞍山港",lng:118.492839,lat:31.678246},{name:"上海崇明岛港",lng:121.513867,lat:31.656222}],U=[{label:"01/15 12:00",portIndex:0},{label:"01/19 12:00",portIndex:1},{label:"01/20 12:00",portIndex:2}],V=l(0),q=l({wuhan:{left:!0,right:!0},maanshan:{left:!0,right:!0}});let D=null,K=null;const N=()=>{O.forEach(a=>{new window.AMap.Marker({position:[a.lng,a.lat],title:a.name,map:R})})},Q=()=>{D=new window.AMap.Polyline({path:[[114.30546,30.593099],[114.5,30.58],[114.87083,30.49556],[114.9,30.35],[115.025,30.21333],[115.3,30],[115.5,29.85],[115.895,29.71361],[116.2,29.9],[116.5,30.1],[116.8,30.3],[117.03639,30.51611],[117.4,30.7],[117.6,30.85],[117.81028,30.93917],[117.82,31.05],[117.82611,31.265],[118,31.3],[118.15,31.32],[118.38472,31.33694],[118.35,31.38],[118.27972,31.41417],[118.35,31.55],[118.492839,31.678246],[118.6,31.85],[118.76556,32.06417],[119,32.1],[119.2,32.15],[119.41611,32.2],[119.43,32.3],[119.44306,32.39028],[119.6,32.38],[119.75,32.36],[119.90694,32.34278],[120.2,32.3],[120.5,32.2],[120.85,32.08333],[121,32],[121.1525,31.94306],[121.2,31.9],[121.24583,31.88611],[121.3,31.7],[121.4,31.5],[121.47222,31.23611],[121.49,31.45],[121.513867,31.656222]],strokeColor:"#0088FF",strokeWeight:5,strokeStyle:"solid",map:R,lineJoin:"round",lineCap:"round"})},X=()=>{K=new window.AMap.Marker({position:[O[0].lng,O[0].lat],icon:new window.AMap.Icon({size:new window.AMap.Size(32,32),image:"https://cdn.jsdelivr.net/npm/@amap/amap-jsapi-loader@1.0.1/images/ship.png",imageSize:new window.AMap.Size(32,32)}),map:R,offset:new window.AMap.Pixel(-16,-16)})},Y=()=>{R&&("satellite"===H.value?(G.setMap(null),Z.setMap(R),H.value="normal"):(Z.setMap(null),G.setMap(R),H.value="satellite"))},aa=a=>{V.value=a;const e=O[U[a].portIndex];R.setCenter([e.lng,e.lat]),R.setZoom(10),ea(),na()},ea=()=>{const a=[[114.30546,30.593099],[114.5,30.58],[114.87083,30.49556],[114.9,30.35],[115.025,30.21333],[115.3,30],[115.5,29.85],[115.895,29.71361],[116.2,29.9],[116.5,30.1],[116.8,30.3],[117.03639,30.51611],[117.4,30.7],[117.6,30.85],[117.81028,30.93917],[117.82,31.05],[117.82611,31.265],[118,31.3],[118.15,31.32],[118.38472,31.33694],[118.35,31.38],[118.27972,31.41417],[118.35,31.55],[118.492839,31.678246],[118.6,31.85],[118.76556,32.06417],[119,32.1],[119.2,32.15],[119.41611,32.2],[119.43,32.3],[119.44306,32.39028],[119.6,32.38],[119.75,32.36],[119.90694,32.34278],[120.2,32.3],[120.5,32.2],[120.85,32.08333],[121,32],[121.1525,31.94306],[121.2,31.9],[121.24583,31.88611],[121.3,31.7],[121.4,31.5],[121.47222,31.23611],[121.49,31.45],[121.513867,31.656222]];if(D&&(Array.isArray(D)?D.forEach(a=>a.setMap(null)):D.setMap(null)),0===V.value)D=new window.AMap.Polyline({path:a,strokeColor:"#0088FF",strokeWeight:5,strokeStyle:"solid",map:R,lineJoin:"round",lineCap:"round"});else if(1===V.value){const e=new window.AMap.Polyline({path:a.slice(0,25),strokeColor:"#FF0000",strokeWeight:5,strokeStyle:"dashed",map:R,lineJoin:"round",lineCap:"round"}),n=new window.AMap.Polyline({path:a.slice(24),strokeColor:"#0088FF",strokeWeight:5,strokeStyle:"solid",map:R,lineJoin:"round",lineCap:"round"});D=[e,n]}else 2===V.value&&(D=new window.AMap.Polyline({path:a,strokeColor:"#FF0000",strokeWeight:5,strokeStyle:"dashed",map:R,lineJoin:"round",lineCap:"round"}))},na=()=>{if(!K)return;const a=U[V.value].portIndex,e=[[114.30546,30.593099],[114.5,30.58],[114.87083,30.49556],[114.9,30.35],[115.025,30.21333],[115.3,30],[115.5,29.85],[115.895,29.71361],[116.2,29.9],[116.5,30.1],[116.8,30.3],[117.03639,30.51611],[117.4,30.7],[117.6,30.85],[117.81028,30.93917],[117.82,31.05],[117.82611,31.265],[118,31.3],[118.15,31.32],[118.38472,31.33694],[118.35,31.38],[118.27972,31.41417],[118.35,31.55],[118.492839,31.678246],[118.6,31.85],[118.76556,32.06417],[119,32.1],[119.2,32.15],[119.41611,32.2],[119.43,32.3],[119.44306,32.39028],[119.6,32.38],[119.75,32.36],[119.90694,32.34278],[120.2,32.3],[120.5,32.2],[120.85,32.08333],[121,32],[121.1525,31.94306],[121.2,31.9],[121.24583,31.88611],[121.3,31.7],[121.4,31.5],[121.47222,31.23611],[121.49,31.45],[121.513867,31.656222]];let n,l;0===a?(n=[e[0]],l=e[0]):1===a?(n=e.slice(0,25),l=e[24]):2===a?(n=e,l=e[e.length-1]):(n=[e[0]],l=e[0]),R&&K.moveAlong?K.moveAlong(n,{speed:500,autoRotation:!0,duration:5e3}):R&&K.setPosition(l)},la=()=>{if(R){if(n.value){const a=O[0],e=R.lngLatToContainer([a.lng,a.lat]);n.value.style.left=`${e.x+20}px`,n.value.style.top=e.y-50+"px"}if(b.value){const a=O[1],e=R.lngLatToContainer([a.lng,a.lat]);b.value.style.left=`${e.x+20}px`,b.value.style.top=e.y-50+"px"}if(J.value){const a=O[2],e=R.lngLatToContainer([a.lng,a.lat]);J.value.style.left=`${e.x+20}px`,J.value.style.top=e.y-50+"px"}}},sa=(a,e)=>{"wuhan"===a?q.value.wuhan[e]=!1:"maanshan"===a&&(q.value.maanshan[e]=!1)};return s(()=>{(()=>{if(!e.value)return;const a=document.createElement("script");a.src="https://webapi.amap.com/maps?v=2.0&key=8940d994cb3eeea3ae13fb33c34c0fd9&plugin=AMap.ToolBar",a.onload=()=>{if(window.AMap)try{R=new window.AMap.Map(e.value,{center:[O[0].lng,O[0].lat],zoom:10,mapStyle:"amap://styles/normal"}),G=new window.AMap.TileLayer.Satellite,Z=new window.AMap.TileLayer,G.setMap(R),Z.setMap(R);const a=new window.AMap.Bounds([73,4],[135,53]);R.setLimitBounds(a),R.addControl(new window.AMap.ToolBar),N(),Q(),X(),aa(0),la(),R.on("moveend",la),R.on("zoomend",la)}catch(a){console.error("地图初始化失败:",a),e.value&&(e.value.innerHTML=`\n          <div style="width: 100%; height: 100%; background: #f0f0f0; display: flex; flex-direction: column; justify-content: center; align-items: center;">\n            <h2 style="color: #333; margin-bottom: 10px;">地图可视化（模拟）</h2>\n            <p style="color: #666; margin-bottom: 20px;">当前港口：${O[U[V.value].portIndex].name}</p>\n            <div style="width: 300px; height: 200px; background: #e0e0e0; border-radius: 4px; display: flex; justify-content: center; align-items: center;">\n              <span style="color: #999;">地图显示区域</span>\n            </div>\n          </div>\n        `),R={setCenter:()=>{},setZoom:()=>{}},D={setMap:()=>{},setOptions:()=>{}},K={setPosition:()=>{}}}else console.error("高德地图API加载失败")},document.body.appendChild(a)})()}),d(()=>{R&&R.destroy()}),(a,l)=>(m(),t("div",x,[i("div",{ref_key:"mapContainer",ref:e,class:"map-container"},null,512),i("div",k,[o(c(y),{onClick:Y},{default:p(()=>[h(g("satellite"===c(H)?"切换到地图":"切换到卫星图"),1)]),_:1})]),i("div",M,[i("div",C,[(m(),t(r,null,u(U,(a,e)=>i("div",{key:e,class:w(["timeline-node",{active:V.value===e}]),onClick:a=>aa(e)},[l[4]||(l[4]=i("div",{class:"timeline-dot"},null,-1)),i("div",_,g(a.label),1)],10,A)),64))])]),V.value>=0?(m(),t("div",{key:0,ref_key:"wuhanPanelRef",ref:n,class:"info-panels wuhan"},[0===V.value&&(q.value.wuhan.left||q.value.wuhan.right)?(m(),t("div",z,[q.value.wuhan.left?(m(),t("div",F,[i("div",S,[l[6]||(l[6]=i("h3",null,"业务信息",-1)),o(c(y),{type:"text",onClick:l[0]||(l[0]=a=>sa("wuhan","left"))},{default:p(()=>[...l[5]||(l[5]=[h("隐藏",-1)])]),_:1})]),l[7]||(l[7]=f('<div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>订单号：</span><span class="value" data-v-474d6900>A0001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>钢厂：</span><span class="value" data-v-474d6900>武汉钢厂</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预准发号：</span><span class="value" data-v-474d6900>A10001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预准发数量：</span><span class="value" data-v-474d6900>100T，目的地上海</span></div></div>',1))])):v("",!0),q.value.wuhan.right?(m(),t("div",P,[i("div",j,[l[9]||(l[9]=i("h3",null,"物流信息",-1)),o(c(y),{type:"text",onClick:l[1]||(l[1]=a=>sa("wuhan","right"))},{default:p(()=>[...l[8]||(l[8]=[h("隐藏",-1)])]),_:1})]),l[10]||(l[10]=f('<div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>吨数：</span><span class="value" data-v-474d6900>120T</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计抵达时间：</span><span class="value" data-v-474d6900>1月16日12点</span></div></div>',1))])):v("",!0)])):V.value>0?(m(),t("div",T,[...l[11]||(l[11]=[f('<div class="info-panel merged" data-v-474d6900><div class="panel-header" data-v-474d6900><h3 data-v-474d6900>航行信息</h3></div><div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>排船计划号：</span><span class="value" data-v-474d6900>B0001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计抵达时间：</span><span class="value" data-v-474d6900>1月16日12时</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计装货吨位：</span><span class="value" data-v-474d6900>100吨</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>关联预准发号：</span><span class="value" data-v-474d6900>A10001</span></div></div></div>',1)])])):v("",!0)],512)):v("",!0),V.value>=1?(m(),t("div",{key:1,ref_key:"maanshanPanelRef",ref:b,class:"info-panels maanshan"},[1===V.value&&(q.value.maanshan.left||q.value.maanshan.right)?(m(),t("div",I,[q.value.maanshan.left?(m(),t("div",L,[i("div",B,[l[13]||(l[13]=i("h3",null,"业务信息",-1)),o(c(y),{type:"text",onClick:l[2]||(l[2]=a=>sa("maanshan","left"))},{default:p(()=>[...l[12]||(l[12]=[h("隐藏",-1)])]),_:1})]),l[14]||(l[14]=f('<div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>母船批号：</span><span class="value" data-v-474d6900>C0001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>发货时间：</span><span class="value" data-v-474d6900>1月16日16时</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>装货吨位：</span><span class="value" data-v-474d6900>102吨 目的地上海</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>关联预准发号：</span><span class="value" data-v-474d6900>A10001</span></div></div>',1))])):v("",!0),q.value.maanshan.right?(m(),t("div",W,[i("div",$,[l[16]||(l[16]=i("h3",null,"物流信息",-1)),o(c(y),{type:"text",onClick:l[3]||(l[3]=a=>sa("maanshan","right"))},{default:p(()=>[...l[15]||(l[15]=[h("隐藏",-1)])]),_:1})]),l[17]||(l[17]=f('<div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>排船计划号：</span><span class="value" data-v-474d6900>F0001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计抵达时间：</span><span class="value" data-v-474d6900>1月19日12时</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计装货吨位：</span><span class="value" data-v-474d6900>300吨</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>关联预准发号：</span><span class="value" data-v-474d6900>E10001</span></div></div>',1))])):v("",!0)])):V.value>1?(m(),t("div",E,[...l[18]||(l[18]=[f('<div class="info-panel merged" data-v-474d6900><div class="panel-header" data-v-474d6900><h3 data-v-474d6900>航行信息</h3></div><div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>子船批号：</span><span class="value" data-v-474d6900>S001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>预计到货时间：</span><span class="value" data-v-474d6900>1月20日12点</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>装货吨位：</span><span class="value" data-v-474d6900>402吨 目的地上海</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>关联母船批号：</span><span class="value" data-v-474d6900>C0001、G0001</span></div></div></div>',1)])])):v("",!0)],512)):v("",!0),V.value>=2?(m(),t("div",{key:2,ref_key:"shanghaiPanelRef",ref:J,class:"info-panels shanghai"},[...l[19]||(l[19]=[f('<div class="info-panel single" data-v-474d6900><div class="panel-header" data-v-474d6900><h3 data-v-474d6900>港口信息</h3></div><div class="panel-content" data-v-474d6900><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>子船批号：</span><span class="value" data-v-474d6900>S001</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>船名：</span><span class="value" data-v-474d6900>武汉1号</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>卸货时间：</span><span class="value" data-v-474d6900>1月20日8点</span></div><div class="info-item" data-v-474d6900><span class="label" data-v-474d6900>港口实收库存：</span><span class="value" data-v-474d6900>402吨/15件</span></div></div></div>',1)])],512)):v("",!0)]))}});a("default",b(J,[["__scopeId","data-v-474d6900"]]))}}});
