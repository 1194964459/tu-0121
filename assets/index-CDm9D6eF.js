import{d as x,f as y,r as h,_ as b,k as e,W as s,U as a,V as k,$ as C,G as U}from"./vue-vendor-DGayM9PE.js";import{u as V}from"./user-iV0gZ-vm.js";import{_ as q}from"./_plugin-vue_export-helper-Ct-VXv49.js";import{h as i}from"./ant-design-Ce2DOam0.js";import"./utils-BsVK5D5E.js";const B={class:"login-page"},I=x({__name:"index",setup(N){const p=C(),r=y(!1),o=h({email:"admin@example.com",password:"123456"}),d={email:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入有效的邮箱地址"}],password:[{required:!0,message:"请输入密码"},{min:6,message:"密码长度不能少于 6 位"}]};async function u(){r.value=!0;try{const n=await V.login(o);n.code===200?(i.success("登录成功"),localStorage.setItem("token",n.data.token),p.push("/home")):i.error(n.message)}catch(n){i.error("登录失败，请检查网络连接")}finally{r.value=!1}}return(n,t)=>{const c=a("a-input"),l=a("a-form-item"),_=a("a-input-password"),f=a("a-button"),g=a("a-form"),v=a("a-alert"),w=a("a-card");return k(),b("div",B,[e(w,{title:"用户登录",style:{width:"400px"}},{default:s(()=>[e(g,{model:o,rules:d,layout:"vertical",onFinish:u},{default:s(()=>[e(l,{label:"邮箱",name:"email"},{default:s(()=>[e(c,{value:o.email,"onUpdate:value":t[0]||(t[0]=m=>o.email=m),placeholder:"请输入邮箱"},null,8,["value"])]),_:1}),e(l,{label:"密码",name:"password"},{default:s(()=>[e(_,{value:o.password,"onUpdate:value":t[1]||(t[1]=m=>o.password=m),placeholder:"请输入密码"},null,8,["value"])]),_:1}),e(l,null,{default:s(()=>[e(f,{type:"primary","html-type":"submit",block:"",loading:r.value},{default:s(()=>[...t[2]||(t[2]=[U("登录",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e(v,{message:"测试账号",description:"邮箱: admin@example.com, 密码: 123456",type:"info","show-icon":"",style:{"margin-top":"16px"}})]),_:1})])}}}),L=q(I,[["__scopeId","data-v-ca60daa0"]]);export{L as default};
