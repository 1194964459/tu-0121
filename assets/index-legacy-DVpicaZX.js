System.register(["./request-legacy-DgrEakAZ.js","./tracking-legacy-D-oSR3U0.js","./vue-vendor-legacy-CbULZcsl.js","./ant-design-legacy-BYcnYbwI.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./utils-legacy-DaJqaYpr.js"],function(e,t){"use strict";var a,n,i,l,r,s,o,c,u,d,m,p,g,v,f,k,_,y,h,x,b,w,j,S,Y,z;return{setters:[null,e=>{a=e.t},e=>{n=e.d,i=e.f,l=e.c,r=e.a7,s=e.o,o=e._,c=e.k,u=e.W,d=e.U,m=e.V,p=e.a3,g=e.a0,v=e.G,f=e.a4,k=e.F,_=e.a1,y=e.S,h=e.a8},e=>{x=e.k,b=e.I,w=e.t,j=e.u,S=e.v,Y=e.q},e=>{z=e._},null],execute:function(){var t=document.createElement("style");t.textContent=".tracking-page .tracking-content .order-info h3[data-v-e2a7d203],.tracking-page .tracking-content .process-nodes h3[data-v-e2a7d203],.tracking-page .tracking-content .timeline-section h3[data-v-e2a7d203]{margin-bottom:16px;font-size:16px;font-weight:600}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-title[data-v-e2a7d203]{font-size:16px;font-weight:600;margin-bottom:8px}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-description[data-v-e2a7d203]{color:#666;margin-bottom:8px}.tracking-page .tracking-content .timeline-section .timeline-item .timeline-meta[data-v-e2a7d203]{font-size:12px;color:#999}\n/*$vite$:1*/",document.head.appendChild(t);const C={class:"tracking-page"},D={key:0,class:"tracking-content"},I={class:"order-info"},q={class:"process-nodes",style:{"margin-top":"24px"}},H={key:0,class:"timeline-section",style:{"margin-top":"24px"}},M={class:"timeline-item"},P={class:"timeline-title"},T={class:"timeline-description"},$={class:"timeline-meta"},E={style:{"margin-left":"16px"}};e("default",z(n({__name:"index",setup(e){const t=r(),n=i(!1),z=i(null),F=i([]),G=l(()=>t.params.id),N=l(()=>z.value?z.value.nodes.map(e=>{return{title:e.name,description:e.participant,status:(t=e.status,{pending:"wait",in_progress:"process",completed:"finish",error:"error"}[t]||"wait")};var t}):[]);function U(e){return{success:S,warning:j,error:w,info:b}[e]||b}return s(()=>{!async function(){if(G.value){n.value=!0;try{const[e,t]=await Promise.all([a.getProcessTracking(G.value),a.getTimeline({orderId:G.value})]);200===e.code&&(z.value=e.data),200===t.code&&(F.value=t.data)}catch(e){console.error("获取追踪信息失败",e),x.error("获取追踪信息失败")}finally{n.value=!1}}}()}),(e,t)=>{const a=d("a-descriptions-item"),i=d("a-descriptions"),l=d("a-steps"),r=d("a-timeline-item"),s=d("a-timeline"),x=d("a-spin"),b=d("a-card");return m(),o("div",C,[c(b,{title:"全链路流程追踪",bordered:!1},{default:u(()=>[c(x,{spinning:n.value},{default:u(()=>[z.value?(m(),o("div",D,[g("div",I,[t[0]||(t[0]=g("h3",null,"订单信息",-1)),c(i,{column:4,bordered:""},{default:u(()=>[c(a,{label:"订单编号"},{default:u(()=>[v(f(z.value.orderNo),1)]),_:1}),c(a,{label:"当前步骤"},{default:u(()=>[v(f(z.value.currentStep)+" / "+f(z.value.totalSteps),1)]),_:1}),c(a,{label:"完成进度"},{default:u(()=>[v(f(z.value.progress)+"%",1)]),_:1}),c(a,{label:"预计完成日期"},{default:u(()=>[v(f(z.value.estimatedCompletionDate||"-"),1)]),_:1})]),_:1})]),g("div",q,[t[1]||(t[1]=g("h3",null,"流程节点",-1)),c(l,{current:z.value.currentStep-1,items:N.value},null,8,["current","items"])]),F.value.length>0?(m(),o("div",H,[t[2]||(t[2]=g("h3",null,"操作时间线",-1)),c(s,null,{default:u(()=>[(m(!0),o(k,null,_(F.value,e=>{return m(),y(r,{key:e.id,color:(t=e.status,{success:"green",warning:"orange",error:"red",info:"blue"}[t]||"blue")},{dot:u(()=>[(m(),y(h(U(e.status))))]),default:u(()=>{return[g("div",M,[g("div",P,f(e.title),1),g("div",T,f(e.description),1),g("div",$,[g("span",null,f(e.participant),1),g("span",E,f((t=e.timestamp,Y(t).format("YYYY-MM-DD HH:mm:ss"))),1)])])];var t}),_:2},1032,["color"]);var t}),128))]),_:1})])):p("",!0)])):p("",!0)]),_:1},8,["spinning"])]),_:1})])}}}),[["__scopeId","data-v-e2a7d203"]]))}}});
