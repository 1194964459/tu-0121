System.register(["./request-legacy-DgrEakAZ.js","./order-legacy-C_-z8yfY.js","./tracking-legacy-D-oSR3U0.js","./vue-vendor-legacy-CbULZcsl.js","./ant-design-legacy-BYcnYbwI.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./utils-legacy-DaJqaYpr.js"],function(e,t){"use strict";var a,l,i,n,r,s,o,c,u,d,p,m,f,g,v,y,_,h,x,b,k,w,j,C,O,z,I;return{setters:[null,e=>{a=e.o},e=>{l=e.t},e=>{i=e.d,n=e.r,r=e.f,s=e.o,o=e.b,c=e._,u=e.k,d=e.U,p=e.W,m=e.V,f=e.u,g=e.a0,v=e.S,y=e.a3,_=e.G,h=e.a4,x=e.F,b=e.a1,k=e.$},e=>{w=e.m,j=e.o,C=e.p,O=e.G,z=e.q},e=>{I=e._},null],execute:function(){var t=document.createElement("style");t.textContent=".dashboard-page .timeline-item .timeline-title[data-v-5006562e]{font-size:14px;font-weight:600;margin-bottom:4px}.dashboard-page .timeline-item .timeline-description[data-v-5006562e]{font-size:12px;color:#666;margin-bottom:4px}.dashboard-page .timeline-item .timeline-meta[data-v-5006562e]{font-size:12px;color:#999}.home-page[data-v-7ce36eec]{width:100%}\n/*$vite$:1*/",document.head.appendChild(t);const $={class:"dashboard-page"},q={class:"timeline-item"},S={class:"timeline-title"},V={class:"timeline-description"},Q={class:"timeline-meta"},D=I(i({__name:"index",setup(e){const t=k(),i=n({totalOrders:0,activeOrders:0,completedOrders:0,totalQuantity:0,inTransitQuantity:0,totalVessels:0,activeVessels:0,totalCarriers:0,activeCarriers:0}),I=r(!1),D=r([]),G=r([]),H=[{title:"订单编号",dataIndex:"id",key:"id"},{title:"客户名称",dataIndex:"customerName",key:"customerName"},{title:"数量",key:"quantity",customRender:({record:e})=>`${e.quantity} ${e.unit}`},{title:"状态",key:"status"},{title:"操作",key:"action"}];async function M(){try{const e=await l.getStatistics();200===e.code&&Object.assign(i,e.data)}catch(e){console.error("获取统计数据失败",e)}}async function N(){I.value=!0;try{const e=await a.getOrders({page:1,pageSize:5});200===e.code&&(D.value=e.data.list)}catch(e){console.error("获取最近订单失败",e)}finally{I.value=!1}}async function T(){try{const e=await l.getTimeline({});200===e.code&&(G.value=e.data.slice(0,10))}catch(e){console.error("获取时间线失败",e)}}function E(e){return{pending:"待确认",confirmed:"已确认",producing:"生产中",warehousing:"集货中",transporting:"运输中",shipped:"已发货",completed:"已完成",cancelled:"已取消"}[e]||e}return s(()=>{M(),N(),T();const e=setInterval(()=>{M(),N(),T()},6e4);o(()=>{clearInterval(e)})}),(e,a)=>{const l=d("a-statistic"),n=d("a-card"),r=d("a-col"),s=d("a-row"),o=d("a-tag"),k=d("a-button"),M=d("a-table"),N=d("a-timeline-item"),T=d("a-timeline");return m(),c("div",$,[u(s,{gutter:16,style:{"margin-bottom":"16px"}},{default:p(()=>[u(r,{span:6},{default:p(()=>[u(n,null,{default:p(()=>[u(l,{title:"总订单数",value:i.totalOrders,"value-style":{color:"#3f8600"}},{prefix:p(()=>[u(f(w))]),_:1},8,["value"])]),_:1})]),_:1}),u(r,{span:6},{default:p(()=>[u(n,null,{default:p(()=>[u(l,{title:"进行中订单",value:i.activeOrders,"value-style":{color:"#1890ff"}},{prefix:p(()=>[u(f(j),{spin:""})]),_:1},8,["value"])]),_:1})]),_:1}),u(r,{span:6},{default:p(()=>[u(n,null,{default:p(()=>[u(l,{title:"总数量（吨）",value:i.totalQuantity,"value-style":{color:"#cf1322"}},{prefix:p(()=>[u(f(C))]),suffix:p(()=>[...a[0]||(a[0]=[g("span",null,"吨",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),u(r,{span:6},{default:p(()=>[u(n,null,{default:p(()=>[u(l,{title:"在航船舶",value:i.activeVessels,"value-style":{color:"#722ed1"}},{prefix:p(()=>[u(f(O))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),u(s,{gutter:16},{default:p(()=>[u(r,{span:16},{default:p(()=>[u(n,{title:"最近订单",bordered:!1},{default:p(()=>[u(M,{columns:H,"data-source":D.value,loading:I.value,pagination:!1,size:"small","row-key":"id"},{bodyCell:p(({column:e,record:l})=>{return["status"===e.key?(m(),v(o,{key:0,color:(i=l.status,{pending:"default",confirmed:"blue",producing:"processing",warehousing:"orange",transporting:"cyan",shipped:"purple",completed:"success",cancelled:"error"}[i]||"default")},{default:p(()=>[_(h(E(l.status)),1)]),_:2},1032,["color"])):"action"===e.key?(m(),v(k,{key:1,type:"link",size:"small",onClick:e=>function(e){t.push(`/tracking/${e.id}`)}(l)},{default:p(()=>[...a[1]||(a[1]=[_("查看追踪",-1)])]),_:1},8,["onClick"])):y("",!0)];var i}),_:1},8,["data-source","loading"])]),_:1})]),_:1}),u(r,{span:8},{default:p(()=>[u(n,{title:"最新动态",bordered:!1},{default:p(()=>[u(T,{style:{"max-height":"400px","overflow-y":"auto"}},{default:p(()=>[(m(!0),c(x,null,b(G.value,e=>{return m(),v(N,{key:e.id,color:(t=e.status,{success:"green",warning:"orange",error:"red",info:"blue"}[t]||"blue")},{default:p(()=>{return[g("div",q,[g("div",S,h(e.title),1),g("div",V,h(e.description),1),g("div",Q,h((t=e.timestamp,z(t).format("MM-DD HH:mm"))),1)])];var t}),_:2},1032,["color"]);var t}),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-5006562e"]]),G={class:"home-page"};e("default",I(i({__name:"index",setup:e=>(e,t)=>(m(),c("div",G,[u(D)]))}),[["__scopeId","data-v-7ce36eec"]]))}}});
