System.register(["./_plugin-vue_export-helper-legacy-Bge05Y0W.js","./order-legacy-Coae0coN.js","./tracking-legacy-C8nAyYQ9.js","./vue-vendor-legacy-BtfJdnqI.js","./ant-design-legacy-BqdWajZ5.js","./utils-legacy-Bg3rIhsW.js"],function(e,t){"use strict";var a,l,i,n,r,s,o,c,d,u,p,m,f,v,g,y,_,h,x,k,b,w,C,j,O,z,I;return{setters:[e=>{a=e._},e=>{l=e.o},e=>{i=e.t},e=>{n=e.d,r=e.r,s=e.f,o=e.o,c=e.b,d=e._,u=e.k,p=e.U,m=e.W,f=e.V,v=e.u,g=e.a1,y=e.S,_=e.a2,h=e.G,x=e.a3,k=e.F,b=e.a5,w=e.$},e=>{C=e.S,j=e.k,O=e.C,z=e.G,I=e.l},null],execute:function(){var t=document.createElement("style");t.textContent=".dashboard-page .timeline-item .timeline-title[data-v-5006562e]{font-size:14px;font-weight:600;margin-bottom:4px}.dashboard-page .timeline-item .timeline-description[data-v-5006562e]{font-size:12px;color:#666;margin-bottom:4px}.dashboard-page .timeline-item .timeline-meta[data-v-5006562e]{font-size:12px;color:#999}.home-page[data-v-7ce36eec]{width:100%}\n/*$vite$:1*/",document.head.appendChild(t);const $={class:"dashboard-page"},S={class:"timeline-item"},V={class:"timeline-title"},Q={class:"timeline-description"},q={class:"timeline-meta"},D=a(n({__name:"index",setup(e){const t=w(),a=r({totalOrders:0,activeOrders:0,completedOrders:0,totalQuantity:0,inTransitQuantity:0,totalVessels:0,activeVessels:0,totalCarriers:0,activeCarriers:0}),n=s(!1),D=s([]),G=s([]),H=[{title:"订单编号",dataIndex:"id",key:"id"},{title:"客户名称",dataIndex:"customerName",key:"customerName"},{title:"数量",key:"quantity",customRender:({record:e})=>`${e.quantity} ${e.unit}`},{title:"状态",key:"status"},{title:"操作",key:"action"}];async function M(){try{const e=await i.getStatistics();200===e.code&&Object.assign(a,e.data)}catch(e){console.error("获取统计数据失败",e)}}async function N(){n.value=!0;try{const e=await l.getOrders({page:1,pageSize:5});200===e.code&&(D.value=e.data.list)}catch(e){console.error("获取最近订单失败",e)}finally{n.value=!1}}async function T(){try{const e=await i.getTimeline({});200===e.code&&(G.value=e.data.slice(0,10))}catch(e){console.error("获取时间线失败",e)}}function E(e){return{pending:"待确认",confirmed:"已确认",producing:"生产中",warehousing:"集货中",transporting:"运输中",shipped:"已发货",completed:"已完成",cancelled:"已取消"}[e]||e}return o(()=>{M(),N(),T();const e=setInterval(()=>{M(),N(),T()},6e4);c(()=>{clearInterval(e)})}),(e,l)=>{const i=p("a-statistic"),r=p("a-card"),s=p("a-col"),o=p("a-row"),c=p("a-tag"),w=p("a-button"),M=p("a-table"),N=p("a-timeline-item"),T=p("a-timeline");return f(),d("div",$,[u(o,{gutter:16,style:{"margin-bottom":"16px"}},{default:m(()=>[u(s,{span:6},{default:m(()=>[u(r,null,{default:m(()=>[u(i,{title:"总订单数",value:a.totalOrders,"value-style":{color:"#3f8600"}},{prefix:m(()=>[u(v(C))]),_:1},8,["value"])]),_:1})]),_:1}),u(s,{span:6},{default:m(()=>[u(r,null,{default:m(()=>[u(i,{title:"进行中订单",value:a.activeOrders,"value-style":{color:"#1890ff"}},{prefix:m(()=>[u(v(j),{spin:""})]),_:1},8,["value"])]),_:1})]),_:1}),u(s,{span:6},{default:m(()=>[u(r,null,{default:m(()=>[u(i,{title:"总数量（吨）",value:a.totalQuantity,"value-style":{color:"#cf1322"}},{prefix:m(()=>[u(v(O))]),suffix:m(()=>[...l[0]||(l[0]=[g("span",null,"吨",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),u(s,{span:6},{default:m(()=>[u(r,null,{default:m(()=>[u(i,{title:"在航船舶",value:a.activeVessels,"value-style":{color:"#722ed1"}},{prefix:m(()=>[u(v(z))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),u(o,{gutter:16},{default:m(()=>[u(s,{span:16},{default:m(()=>[u(r,{title:"最近订单",bordered:!1},{default:m(()=>[u(M,{columns:H,"data-source":D.value,loading:n.value,pagination:!1,size:"small","row-key":"id"},{bodyCell:m(({column:e,record:a})=>{return["status"===e.key?(f(),y(c,{key:0,color:(i=a.status,{pending:"default",confirmed:"blue",producing:"processing",warehousing:"orange",transporting:"cyan",shipped:"purple",completed:"success",cancelled:"error"}[i]||"default")},{default:m(()=>[h(x(E(a.status)),1)]),_:2},1032,["color"])):"action"===e.key?(f(),y(w,{key:1,type:"link",size:"small",onClick:e=>function(e){t.push(`/tracking/${e.id}`)}(a)},{default:m(()=>[...l[1]||(l[1]=[h("查看追踪",-1)])]),_:1},8,["onClick"])):_("",!0)];var i}),_:1},8,["data-source","loading"])]),_:1})]),_:1}),u(s,{span:8},{default:m(()=>[u(r,{title:"最新动态",bordered:!1},{default:m(()=>[u(T,{style:{"max-height":"400px","overflow-y":"auto"}},{default:m(()=>[(f(!0),d(k,null,b(G.value,e=>{return f(),y(N,{key:e.id,color:(t=e.status,{success:"green",warning:"orange",error:"red",info:"blue"}[t]||"blue")},{default:m(()=>{return[g("div",S,[g("div",V,x(e.title),1),g("div",Q,x(e.description),1),g("div",q,x((t=e.timestamp,I(t).format("MM-DD HH:mm"))),1)])];var t}),_:2},1032,["color"]);var t}),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-5006562e"]]),G={class:"home-page"};e("default",a(n({__name:"index",setup:e=>(e,t)=>(f(),d("div",G,[u(D)]))}),[["__scopeId","data-v-7ce36eec"]]))}}});
