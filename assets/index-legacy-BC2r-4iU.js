System.register(["./_plugin-vue_export-helper-legacy-DDvuJ2jJ.js","./order-legacy-DiYmr54A.js","./tracking-legacy-BLSt4r5m.js","./vue-vendor-legacy-DBuN8sLc.js","./ant-design-legacy-D-0iCT7D.js","./utils-legacy-CnximVHY.js"],function(e,t){"use strict";var a,l,i,n,r,s,o,c,d,u,p,m,f,v,g,y,_,h,x,k,b,w,C,j,O,z;return{setters:[e=>{a=e._},e=>{l=e.o},e=>{i=e.t},e=>{n=e.d,r=e.r,s=e.f,o=e.o,c=e._,d=e.k,u=e.U,p=e.W,m=e.V,f=e.u,v=e.a1,g=e.S,y=e.a2,_=e.G,h=e.a3,x=e.F,k=e.a5,b=e.$},e=>{w=e.S,C=e.k,j=e.C,O=e.G,z=e.l},null],execute:function(){var t=document.createElement("style");t.textContent=".dashboard-page .timeline-item .timeline-title[data-v-4c048fc9]{font-size:14px;font-weight:600;margin-bottom:4px}.dashboard-page .timeline-item .timeline-description[data-v-4c048fc9]{font-size:12px;color:#666;margin-bottom:4px}.dashboard-page .timeline-item .timeline-meta[data-v-4c048fc9]{font-size:12px;color:#999}.home-page[data-v-7ce36eec]{width:100%}\n/*$vite$:1*/",document.head.appendChild(t);const I={class:"dashboard-page"},$={class:"timeline-item"},S={class:"timeline-title"},V={class:"timeline-description"},Q={class:"timeline-meta"},q=a(n({__name:"index",setup(e){const t=b(),a=r({totalOrders:0,activeOrders:0,completedOrders:0,totalQuantity:0,inTransitQuantity:0,totalVessels:0,activeVessels:0,totalCarriers:0,activeCarriers:0}),n=s(!1),q=s([]),D=s([]),G=[{title:"订单编号",dataIndex:"id",key:"id"},{title:"客户名称",dataIndex:"customerName",key:"customerName"},{title:"数量",key:"quantity",customRender:({record:e})=>`${e.quantity} ${e.unit}`},{title:"状态",key:"status"},{title:"操作",key:"action"}];async function H(){try{const e=await i.getStatistics();200===e.code&&Object.assign(a,e.data)}catch(e){console.error("获取统计数据失败",e)}}async function M(){n.value=!0;try{const e=await l.getOrders({page:1,pageSize:5});200===e.code&&(q.value=e.data.list)}catch(e){console.error("获取最近订单失败",e)}finally{n.value=!1}}async function N(){try{const e=await i.getTimeline({});200===e.code&&(D.value=e.data.slice(0,10))}catch(e){console.error("获取时间线失败",e)}}function T(e){return{pending:"待确认",confirmed:"已确认",producing:"生产中",warehousing:"集货中",transporting:"运输中",shipped:"已发货",completed:"已完成",cancelled:"已取消"}[e]||e}return o(()=>{H(),M(),N();const e=setInterval(()=>{H(),M(),N()},3e4);return()=>{clearInterval(e)}}),(e,l)=>{const i=u("a-statistic"),r=u("a-card"),s=u("a-col"),o=u("a-row"),b=u("a-tag"),H=u("a-button"),M=u("a-table"),N=u("a-timeline-item"),E=u("a-timeline");return m(),c("div",I,[d(o,{gutter:16,style:{"margin-bottom":"16px"}},{default:p(()=>[d(s,{span:6},{default:p(()=>[d(r,null,{default:p(()=>[d(i,{title:"总订单数",value:a.totalOrders,"value-style":{color:"#3f8600"}},{prefix:p(()=>[d(f(w))]),_:1},8,["value"])]),_:1})]),_:1}),d(s,{span:6},{default:p(()=>[d(r,null,{default:p(()=>[d(i,{title:"进行中订单",value:a.activeOrders,"value-style":{color:"#1890ff"}},{prefix:p(()=>[d(f(C),{spin:""})]),_:1},8,["value"])]),_:1})]),_:1}),d(s,{span:6},{default:p(()=>[d(r,null,{default:p(()=>[d(i,{title:"总数量（吨）",value:a.totalQuantity,"value-style":{color:"#cf1322"}},{prefix:p(()=>[d(f(j))]),suffix:p(()=>[...l[0]||(l[0]=[v("span",null,"吨",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),d(s,{span:6},{default:p(()=>[d(r,null,{default:p(()=>[d(i,{title:"在航船舶",value:a.activeVessels,"value-style":{color:"#722ed1"}},{prefix:p(()=>[d(f(O))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),d(o,{gutter:16},{default:p(()=>[d(s,{span:16},{default:p(()=>[d(r,{title:"最近订单",bordered:!1},{default:p(()=>[d(M,{columns:G,"data-source":q.value,loading:n.value,pagination:!1,size:"small","row-key":"id"},{bodyCell:p(({column:e,record:a})=>{return["status"===e.key?(m(),g(b,{key:0,color:(i=a.status,{pending:"default",confirmed:"blue",producing:"processing",warehousing:"orange",transporting:"cyan",shipped:"purple",completed:"success",cancelled:"error"}[i]||"default")},{default:p(()=>[_(h(T(a.status)),1)]),_:2},1032,["color"])):"action"===e.key?(m(),g(H,{key:1,type:"link",size:"small",onClick:e=>function(e){t.push(`/tracking/${e.id}`)}(a)},{default:p(()=>[...l[1]||(l[1]=[_("查看追踪",-1)])]),_:1},8,["onClick"])):y("",!0)];var i}),_:1},8,["data-source","loading"])]),_:1})]),_:1}),d(s,{span:8},{default:p(()=>[d(r,{title:"最新动态",bordered:!1},{default:p(()=>[d(E,{style:{"max-height":"400px","overflow-y":"auto"}},{default:p(()=>[(m(!0),c(x,null,k(D.value,e=>{return m(),g(N,{key:e.id,color:(t=e.status,{success:"green",warning:"orange",error:"red",info:"blue"}[t]||"blue")},{default:p(()=>{return[v("div",$,[v("div",S,h(e.title),1),v("div",V,h(e.description),1),v("div",Q,h((t=e.timestamp,z(t).format("MM-DD HH:mm"))),1)])];var t}),_:2},1032,["color"]);var t}),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-4c048fc9"]]),D={class:"home-page"};e("default",a(n({__name:"index",setup:e=>(e,t)=>(m(),c("div",D,[d(q)]))}),[["__scopeId","data-v-7ce36eec"]]))}}});
